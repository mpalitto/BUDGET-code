{"version":3,"sources":["../../src/pages/tabs/tabs.module.ts","../../src/pages/tabs/tabs.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TabsPage } from './tabs';\n\n@NgModule({\n  declarations: [TabsPage],\n  imports: [IonicPageModule.forChild(TabsPage)],\n  entryComponents: [TabsPage]\n  //exports: [TabsPage]\n})\nexport class TabsPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.module.ts","import { Component } from '@angular/core';\nimport { Events, IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { MainHubProvider } from './../../providers/main-hub/main-hub';\n\n@IonicPage({name: \"TabsPage\"})\n@Component({\n  templateUrl: 'tabs.html'\n})\n\nexport class TabsPage {\n  page = \"Home\";\n  userSelection = \"\";\n  user     = \"\";\n  userNick = '';\n  currentGroupID = \"\";\n  groupIDs = [];\n  groupNames = {}; // {groupID: groupName}\n  amIadmin = {};    // {groupID: amIadmin}\n\n  selectOptions = {\n      title: 'Are you sure?'\n  }\n\n  tab1Root = 'HomePage';\n  tab2Root = 'InvitationsPage';\n  tab3Root = 'ContactPage';\n  tab4Root = 'AboutPage';\n\n  constructor(private events: Events, public navCtrl: NavController, public navParams: NavParams, private mainHUB: MainHubProvider) {\n\n    this.userNick = navParams.get('nick');\n    this.user = navParams.get('email');\n\n    this.events.subscribe('grpUpdated', (id, name) => {\n      this.groupNames[id] = name;\n      this.currentGroupID = this.groupIDs[0];\n      this.currentGroupID = id;\n    });\n\n    this.events.subscribe('newGrpAdded', (id, name) => {\n      this.groupIDs.push(id);\n      this.groupNames[id] = name;\n      this.amIadmin[id] = true;\n      this.currentGroupID = id;\n      this.events.publish('change-group', this.currentGroupID, this.groupNames[this.currentGroupID], this.amIadmin[this.currentGroupID]);\n    });\n\n    this.events.subscribe('tab2opened', () => {\n      this.events.publish('userInfo', this.userNick, this.user);\n      this.events.publish('change-group', this.currentGroupID, this.groupNames[this.currentGroupID], this.amIadmin[this.currentGroupID]);\n    });\n\n    this.mainHUB.getAllGroups(this.user).then(data => {\n      // alert('DATA: '+JSON.stringify(data));\n      for (var i = 0; i < data.length; i++) {\n        this.groupIDs.push(data[i].groupID);\n        this.groupNames[data[i].groupID] = data[i].groupName;\n        this.amIadmin[data[i].groupID] = (data[i].privilege == 'admin');\n        // alert('groupID: ' + data[i].groupID + ' groupName: ' + data[i].groupName);\n      }\n      this.mainHUB.getUserInfo(this.user).then(data => {\n        this.currentGroupID = data.defaultGroupID;\n        // alert('current: '+data.defaultGroupID);\n      });\n    });\n\n    // send invite\n    let invite = {\n      FROM: this.user,\n      FOR: \"wife@gmail.com\",\n      GROUP: \"NEW-GROUP\"\n    }\n    mainHUB.send('invite', invite); //request for any new invitation to server\n\n    // send invite\n    invite = {\n      FROM: \"nicolo@gmail.com\",\n      FOR: \"mpalitto@gmail.com\",\n      GROUP: \"NEW-GROUP\"\n    }\n    mainHUB.send('invite', invite); //request for any new invitation to server\n\n    // send anyInvites query\n    let userID = {\n      userID: this.user,\n    }\n    mainHUB.send('anyInvites', userID); //request for any new invitation to server\n\n    let data = {\n      from: 'Matteo',\n      to  : 'all',\n      cmd : \"Hi\"\n    };\n    mainHUB.send('message', data);\n  }\n\n  public logout() {\n    //alert('logging OUT');\n    this.mainHUB.logout().subscribe(succ => {\n      this.navCtrl.popToRoot();\n    });\n  }\n\n  selectGroup() {\n    this.events.publish('change-group', this.currentGroupID, this.groupNames[this.currentGroupID], this.amIadmin[this.currentGroupID]);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts"],"sourceRoot":""}