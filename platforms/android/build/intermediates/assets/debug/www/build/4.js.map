{"version":3,"sources":["../../src/pages/invitations/invitations.module.ts","../../src/pages/invitations/invitations.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { InvitationsPage } from './invitations';\n@NgModule({\n  declarations: [InvitationsPage],\n  imports: [IonicPageModule.forChild(InvitationsPage)],\n  entryComponents: [InvitationsPage]\n})\nexport class InvitationsPageModule { }\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/invitations/invitations.module.ts","import { Component } from '@angular/core';\nimport { NavController, ModalController } from 'ionic-angular';\nimport { DatabaseProvider } from './../../providers/database/database';\nimport { IonicPage } from 'ionic-angular';\nimport { AuthService } from '../../providers/auth-service/auth-service';\nimport { SocketProvider } from '../../providers/socket/socket';\n//import { NewGroupPage } from '../new-group/new-group';\n\n@IonicPage()\n@Component({\n  selector: 'page-invitations',\n  templateUrl: 'invitations.html'\n})\nexport class InvitationsPage {\n  member = {email: '', name: '', privilege: '', score: ''};\n  members = [];\n  group = {groupID: '', groupName: ''};\n  groups = [];\n  adminGroups = [];\n  me = '';\n  groupID = \"\";\n \n  constructor(private auth: AuthService, public WS: SocketProvider, public modalCtrl: ModalController, public navCtrl: NavController, private databaseprovider: DatabaseProvider) {\n    this.me = this.auth.getUserInfo().email;\nalert('current user: ' + this.me);\n  //this.databaseprovider.getDatabaseState().subscribe(rdy => {\n    this.databaseprovider.prefillDB().subscribe(rdy => {\n    if (rdy) { //\n        alert('user INFO: '+ this.me);\n        this.loadMemberData();\n      } else {\n\t alert(\"DB not ready\");\n        this.loadMemberData();\n      }\n    })\n  }\n \n  loadMemberData() {\n    // alert(\"loading member data\");\n    this.databaseprovider.getAllMembers().then(data => {\n      this.members = data;\n       alert('members: ' + data);\n    })\n    this.databaseprovider.getAllGroups().then(data => {\n      this.groups = data;\n       alert('groups: ' + data);\n    })\n    this.databaseprovider.getAdminGroups(this.me).then(data => {\n      this.adminGroups = data;\n       alert('admin groups for: ' + this.member.email + ':::' + data);\n    })\n  }\n \n  addMember() {\n    this.databaseprovider.addMember(this.member['groupID'], this.member['groupName'], this.member['email'], this.member['name'], this.member['privilege'], parseInt(this.member['score']))\n    .then(data => {\n      this.loadMemberData();\n    });\n    //this.member = {};\n  }\n\n  selectGroup() {\n    if ( /^\\+ADDnew/.test(this.group.groupName) ) {\n      let modal = this.modalCtrl.create('NewGroupPage');\n      modal.present();\n    } else {\n      alert(this.group.groupName + ' has been selected');\n    }\n  };\n\n  editGroup() {\n      let modal = this.modalCtrl.create('EditGroupPage');\n      modal.present();\n  }\n\n  sendInvite() {\n    let invite = {\n      FROM: this.me,\n      FOR: this.member.email,\n      GROUP: this.group.groupID\n    }\n    this.WS.send('invite', invite);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/invitations/invitations.ts"],"sourceRoot":""}